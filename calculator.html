<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
        <style>
            
        </style>
    </head>
    <body> 
        <div id="container">
            <form id="pricingform" oninput="kalkulator();">

                <div class="price-row grid">
                    <div class="col-1-1">
                        1.  Ugovorena neto naknada: <br /> <input type="text" name="unos" id="unos1" oninput="/*upozorenje('greska2', this)*/">
                    </div> <br /> 
                    <div class="col-1-2">
                       2.   Koeficijent <output type="" name="koef" id="koef">1.122083</output>
                    </div>
                </div> <br /> 
                <div class="price-row grid">
                    <div class="col-1-1-1">
                        <label> 3.   Osnovica za obračun poreza doprinosa (1 x 2) </label>
                        <output id="rashodi" name="rashodi"> = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-2">
                        <label> 4.  Priznati rashodi (3 x 20%)</label>
                        <output id="priznati" name="priznati"> = KM 0</output>
                    </div><br />
                    <div class="col-1-1-3">
                        <label> 5.  Osnovica za doprinos za zdravstveno osiguranje (1 - 2)</label>
                        <output id="ozdravstveno" name="ozdravstveno"> = KM 0</output>
                    </div><br />
                    <div class="col-1-1-4">
                        <label> 6.  Doprinos za zdravstveno osiguranje (3 x 4%)</label>
                        <output id="dzdravstveno" name="dzdravstveno"> = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-5">
                        <label> 7.  Osnovica za porez na dohodak (3 - 4)</label>
                        <output id="dohodak" name="dohodak"> = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-6">
                        <label> 8.  Porez na dohodak (5 x 10%)</label>
                        <output id="pdohodak" name="pdohodak"> = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-7">
                        <label> 9.  Doprinos za PIO (3 x 6%)</label>
                        <output id="dpio" name="dpio"> = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-8">
                        <label> 10.  Za isplati (3 - 6 - 8)</label>
                        <output id="isplata" name="isplata" > = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-9">
                        <label> 11.  Naknada za zaštitu od priodnih i drugih nesreća (10 x 0.5%)</label>
                        <output id="naknada" name="naknada"> = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-10">
                        <label> 12.  Opšta vodna naknada (10 x 0.5%)</label>
                        <output id="vnaknada" name="vnaknada"> = KM 0</output>
                    </div><div class="col-1-1-11"><br /> 
                        <label> 13.  Ukupno troškovi po osnovu Ugovora (6 + 8 + 9 + 10 + 11 + 12)</label>
                        <output id="utroskovi" name="utroskovi" > = KM 0</output>
                    </div><br /> 
                    <div class="col-1-1-12">
                        <label> 14.  Ukupna stopa poreza, doprinosa i posebnih naknada </label>
                        <output id="usporeza" name="usporeza"> = KM 0</output>
                    </div>
                    <div id="greska2" style="display: none;">
                        UNESI POZITIVAN BROJ!
                    </div>
                </div>
            </form>
        </div>

        <script>
            /*
            function upozorenje(unos1, element)
            {
                document.getElementById(unos1).style.display = element.value < 1 ? 'block' : 'none';
            }
             */
            function getRashodi() {
                    var rashodi = parseFloat(unos1.value * koef.value);
                    return rashodi;
                }

            function getPriznati() {
                var priznati = parseFloat((unos1.value*koef.value) * 0.2);
                return priznati;
            }
            
            function getOzdravstveno() {
                var ozdravstveno = parseFloat((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2);
                return ozdravstveno;
            }
            
            function getDzdravstveno(){
                var dzdravstveno = parseFloat(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04);
                return dzdravstveno;
            }

            function getDohodak(){
                var dohodak = parseFloat(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04));
                return dohodak;
            }

            function getPdohodak() {
                var pdohodak = parseFloat((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1);
                return pdohodak;
            }

            function getDpio(){
                var dpio = parseFloat(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) * 0.06);
                return dpio;
            }

            function getIsplata(){
                var isplata = parseFloat((unos1.value * koef.value) -(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04) - ((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1));
                return isplata;
            }

            function getNaknada(){
                var naknada = parseFloat(((unos1.value * koef.value) -(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04) - ((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1)) * 0.005);
                return naknada;
            }

            function getVnaknada(){
                var vnaknada = parseFloat(((unos1.value * koef.value) -(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04) - ((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1)) * 0.005);
                return vnaknada;
            }

            function getUtroskovi(){
                var utroskovi = parseFloat((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04) + 
                ((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1) +
                (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) * 0.06) +
                ((unos1.value * koef.value) -(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04) - ((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1)) +
                (((unos1.value * koef.value) -(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04) - ((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1)) * 0.005) +
                (((unos1.value * koef.value) -(((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04) - ((((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2) - (((unos1.value * koef.value) - (unos1.value*koef.value) * 0.2)* 0.04))* 0.1)) * 0.005)
                );

                return utroskovi;
            }

            function getUsporeza(){
                return null;
            }


            function kalkulator() {   

                var rashodival = getRashodi();
                var priznatival = getPriznati();
                var ozdravstvenoval = getOzdravstveno();
                var dzdravstvenoval = getDzdravstveno();
                var dohodakval = getDohodak();
                var pdohodakval = getPdohodak();
                var dpioval = getDpio();
                var isplataval = getIsplata();
                var naknadaval = getNaknada();
                var vnaknadaval = getVnaknada();
                var utroskovival = getUtroskovi();
                //var usporezaval = getUsporeza();

                rashodi.value = "KM " + rashodival.toFixed(2);
                priznati.value = "KM " + priznatival.toFixed(2);
                ozdravstveno.value = "KM " + ozdravstvenoval.toFixed(2);
                dzdravstveno.value = "KM " + dzdravstvenoval.toFixed(2);
                dohodak.value = "KM " + dohodakval.toFixed(2);
                pdohodak.value = "KM " + pdohodakval.toFixed(2);
                dpio.value = "KM " + dpioval.toFixed(2);
                isplata.value = "KM " + isplataval.toFixed(2);
                naknada.value = "KM" + naknadaval.toFixed(2);
                vnaknada.value = "KM" + vnaknadaval.toFixed(2);
                utroskovi.value = "KM " + utroskovival.toFixed(2);
                //usporeza.value = "$"+usporezaval.toFixed(2);
                
            }

        </script>
    </body>
</html>
